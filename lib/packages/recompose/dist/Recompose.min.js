!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.Recompose={},t.React)}(this,function(t,c){"use strict";var r="default"in c?c.default:c,a=function(t){return c.createElement.bind(null,t)},n=function(n,e){return function(t){return t[n]=e,t}},o=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0},u=function(e){return function(t){var n=a(t);return function(t){return n(e(t))}}};function s(){return(s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function f(t,n){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n}function l(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function h(t){var n=this.constructor.getDerivedStateFromProps(t,this.state);null!=n&&this.setState(n)}function d(t,n){try{var e=this.props,r=this.state;this.props=t,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(e,r)}finally{this.props=e,this.state=r}}function i(t){var n=t.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof n.getSnapshotBeforeUpdate)return t;var e=null,r=null,o=null;if("function"==typeof n.componentWillMount?e="componentWillMount":"function"==typeof n.UNSAFE_componentWillMount&&(e="UNSAFE_componentWillMount"),"function"==typeof n.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof n.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof n.componentWillUpdate?o="componentWillUpdate":"function"==typeof n.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==e||null!==r||null!==o){var u=t.displayName||t.name,i="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==e?"\n  "+e:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(n.componentWillMount=l,n.componentWillReceiveProps=h),"function"==typeof n.getSnapshotBeforeUpdate){if("function"!=typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=d;var p=n.componentDidUpdate;n.componentDidUpdate=function(t,n,e){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:e;p.call(this,t,n,r)}}return t}d.__suppressDeprecationWarning=h.__suppressDeprecationWarning=l.__suppressDeprecationWarning=!0;var p=function(t,n){for(var e={},r=0;r<n.length;r++){var o=n[r];t.hasOwnProperty(o)&&(e[o]=t[o])}return e},y=Object.prototype.hasOwnProperty;function v(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!=t&&n!=n}function m(t,n){if(v(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var e=Object.keys(t),r=Object.keys(n);if(e.length!==r.length)return!1;for(var o=0;o<e.length;o++)if(!y.call(n,e[o])||!v(t[e[o]],n[e[o]]))return!1;return!0}var b=function(t,n){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r],r));return e},g=function(t,n){for(var e=s({},t),r=0;r<n.length;r++){var o=n[r];e.hasOwnProperty(o)&&delete e[o]}return e},S=Object.keys,P=function(){},e=function(t){return t},O=function(t){function n(){return t.apply(this,arguments)||this}return f(n,t),n.prototype.render=function(){return null},n}(c.Component),w=function(o){return function(t){var r=a(t);return function(t){function n(){return t.apply(this,arguments)||this}f(n,t);var e=n.prototype;return e.shouldComponentUpdate=function(t){return o(this.props,t)},e.render=function(){return r(this.props)},n}(c.Component)}},E=function(e){return w(function(t,n){return!m(p(n,e),p(t,e))})},_=function(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)};var C={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},U={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},x=Object.defineProperty,j=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,F=Object.getOwnPropertyDescriptor,D=Object.getPrototypeOf,A=D&&D(Object),N="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function R(t,n){return t(n={exports:{}},n.exports),n.exports}var V=R(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.createChangeEmitter=function(){var e=[],r=e;function o(){r===e&&(r=e.slice())}return{listen:function(n){if("function"!=typeof n)throw new Error("Expected listener to be a function.");var e=!0;return o(),r.push(n),function(){if(e){e=!1,o();var t=r.indexOf(n);r.splice(t,1)}}},emit:function(){for(var t=e=r,n=0;n<t.length;n++)t[n].apply(t,arguments)}}}});T(V);var M=V.createChangeEmitter,k=R(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var n,e=t.Symbol;"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable";return n}});T(k);var I=R(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e,r,o=(e=k)&&e.__esModule?e:{default:e};r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==N?N:t;var u=(0,o.default)(r);n.default=u});T(I);var B=I,H={fromESObservable:null,toESObservable:null},$={fromESObservable:function(t){return"function"==typeof H.fromESObservable?H.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof H.toESObservable?H.toESObservable(t):t}},q=function(p){return function(i){return function(u){function t(){for(var t,e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=u.call.apply(u,[this].concat(r))||this).state={vdom:null},e.propsEmitter=M(),e.props$=p.fromESObservable(((t={subscribe:function(n){return{unsubscribe:e.propsEmitter.listen(function(t){t?n.next(t):n.complete()})}}})[B]=function(){return this},t)),e.vdom$=p.toESObservable(i(e.props$)),e}f(t,u);var n=t.prototype;return n.componentWillMount=function(){var n=this;this.subscription=this.vdom$.subscribe({next:function(t){n.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},n.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},n.shouldComponentUpdate=function(t,n){return n.vdom!==this.state.vdom},n.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},n.render=function(){return this.state.vdom},t}(c.Component)}},z=function(t){return t},K=function(n){var e=q({fromESObservable:z,toESObservable:z});return function(i){return function(t){var r=a(t),o=n.fromESObservable,u=n.toESObservable;return e(function(e){var t;return(t={subscribe:function(n){var t=u(i(o(e))).subscribe({next:function(t){return n.next(r(t))}});return{unsubscribe:function(){return t.unsubscribe()}}}})[B]=function(){return this},t})}}},L=function(r){return function(){var t,e=M(),n=r.fromESObservable(((t={subscribe:function(n){return{unsubscribe:e.listen(function(t){return n.next(t)})}}})[B]=function(){return this},t));return{handler:e.emit,stream:n}}},G=L($);t.mapProps=u,t.withProps=function(n){return u(function(t){return s({},t,"function"==typeof n?n(t):n)})},t.withPropsOnChange=function(o,u){return function(t){var n=a(t),e="function"==typeof o?o:function(t,n){return!m(p(t,o),p(n,o))},r=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).state={computedProps:u(t.props),prevProps:t.props},t}return f(t,o),t.getDerivedStateFromProps=function(t,n){return e(n.prevProps,t)?{computedProps:u(t),prevProps:t}:{prevProps:t}},t.prototype.render=function(){return n(s({},this.props,this.state.computedProps))},t}(c.Component);return i(r),r}},t.withHandlers=function(u){return function(t){var n=a(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).handlers=b("function"==typeof u?u(n.props):u,function(t){return function(){return t(n.props).apply(void 0,arguments)}}),n}return f(t,o),t.prototype.render=function(){return n(s({},this.props,this.handlers))},t}(c.Component)}},t.defaultProps=function(r){return function(t){var n=a(t),e=function(t){return n(t)};return e.defaultProps=r,e}},t.renameProp=function(e,r){return u(function(t){var n;return s({},g(t,[e]),((n={})[r]=t[e],n))})},t.renameProps=function(e){return u(function(t){return s({},g(t,S(e)),(r=p(t,S(e)),o=function(t,n){return e[n]},S(r).reduce(function(t,n){var e=r[n];return t[o(e,n)]=e,t},{})));var r,o})},t.flattenProp=function(e){return function(t){var n=a(t);return function(t){return n(s({},t,t[e]))}}},t.withState=function(e,r,u){return function(t){var n=a(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).state={stateValue:"function"==typeof u?u(n.props):u},n.updateStateValue=function(e,t){return n.setState(function(t){var n=t.stateValue;return{stateValue:"function"==typeof e?e(n):e}},t)},n}return f(t,o),t.prototype.render=function(){var t;return n(s({},this.props,((t={})[e]=this.state.stateValue,t[r]=this.updateStateValue,t)))},t}(c.Component)}},t.withStateHandlers=function(o,i){return function(t){var n=a(t);return function(r){function t(){for(var u,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return(u=r.call.apply(r,[this].concat(n))||this).state="function"==typeof o?o(u.props):o,u.stateUpdaters=b(i,function(o){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&"function"==typeof e.persist&&e.persist(),u.setState(function(t,n){return o(t,n).apply(void 0,[e].concat(r))})}}),u}return f(t,r),t.prototype.render=function(){return n(s({},this.props,this.state,this.stateUpdaters))},t}(c.Component)}},t.withReducer=function(r,u,i,p){return function(t){var e=a(t);return function(o){function t(){for(var n,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=o.call.apply(o,[this].concat(e))||this).state={stateValue:n.initializeStateValue()},n.dispatch=function(e,t){return void 0===t&&(t=P),n.setState(function(t){var n=t.stateValue;return{stateValue:i(n,e)}},function(){return t(n.state.stateValue)})},n}f(t,o);var n=t.prototype;return n.initializeStateValue=function(){return void 0!==p?"function"==typeof p?p(this.props):p:i(void 0,{type:"@@recompose/INIT"})},n.render=function(){var t;return e(s({},this.props,((t={})[r]=this.state.stateValue,t[u]=this.dispatch,t)))},t}(c.Component)}},t.branch=function(o,u,i){return void 0===i&&(i=e),function(n){var e,r;return function(t){return o(t)?(e=e||a(u(n)))(t):(r=r||a(i(n)))(t)}}},t.renderComponent=function(e){return function(t){var n=a(e);return function(t){return n(t)}}},t.renderNothing=function(t){return O},t.shouldUpdate=w,t.pure=function(t){return w(function(t,n){return!m(t,n)})(t)},t.onlyUpdateForKeys=E,t.onlyUpdateForPropTypes=function(t){var n=t.propTypes,e=Object.keys(n||{});return E(e)(t)},t.withContext=function(r,u){return function(t){var n=a(t),e=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).getChildContext=function(){return u(t.props)},t}return f(t,o),t.prototype.render=function(){return n(this.props)},t}(c.Component);return e.childContextTypes=r,e}},t.getContext=function(r){return function(t){var e=a(t),n=function(t,n){return e(s({},t,n))};return n.contextTypes=r,n}},t.lifecycle=function(r){return function(t){var e=a(t),n=function(t){function n(){return t.apply(this,arguments)||this}return f(n,t),n.prototype.render=function(){return e(s({},this.props,this.state))},n}(c.Component);return Object.keys(r).forEach(function(t){return n.prototype[t]=r[t]}),n}},t.toClass=function(e){var t,n;return _(e)?e:(n=t=function(t){function n(){return t.apply(this,arguments)||this}return f(n,t),n.prototype.render=function(){return"string"==typeof e?r.createElement(e,this.props):e(this.props,this.context)},n}(c.Component),t.displayName=o(e),t.propTypes=e.propTypes,t.contextTypes=e.contextTypes,t.defaultProps=e.defaultProps,n)},t.toRenderProps=function(t){return t(function(t){return t.children(t)})},t.fromRenderProps=function(n,o,u){return void 0===u&&(u="children"),function(t){var e=a(t),r=a(n);return function(t){var n;return r(((n={})[u]=function(){return e(s({},t,o.apply(void 0,arguments)))},n))}}},t.setStatic=n,t.setPropTypes=function(t){return n("propTypes",t)},t.setDisplayName=function(t){return n("displayName",t)},t.compose=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}},function(t){return t})},t.getDisplayName=o,t.wrapDisplayName=function(t,n){return n+"("+o(t)+")"},t.shallowEqual=m,t.isClassComponent=_,t.createSink=function(n){var t=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).state={},t}return f(t,o),t.getDerivedStateFromProps=function(t){return n(t),null},t.prototype.render=function(){return null},t}(c.Component);return i(t),t},t.componentFromProp=function(n){var t=function(t){return c.createElement(t[n],g(t,[n]))};return t.displayName="componentFromProp("+n+")",t},t.nest=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.map(a);return function(t){var n=t.children,e=function(t,n){if(null==t)return{};var e,r,o={},u=Object.keys(t);for(r=0;r<u.length;r++)e=u[r],0<=n.indexOf(e)||(o[e]=t[e]);return o}(t,["children"]);return r.reduceRight(function(t,n){return n(e,t)},n)}},t.hoistStatics=function(e,r){return function(t){var n=e(t);return function t(n,e,r){if("string"!=typeof e){if(A){var o=D(e);o&&o!==A&&t(n,o,r)}var u=j(e);W&&(u=u.concat(W(e)));for(var i=0;i<u.length;++i){var p=u[i];if(!(C[p]||U[p]||r&&r[p])){var c=F(e,p);try{x(n,p,c)}catch(t){}}}return n}return n}(n,t,r),n}},t.componentFromStream=function(t){return q($)(t)},t.componentFromStreamWithConfig=q,t.mapPropsStream=function(t){return K($)(t)},t.mapPropsStreamWithConfig=K,t.createEventHandler=G,t.createEventHandlerWithConfig=L,t.setObservableConfig=function(t){H=t},Object.defineProperty(t,"__esModule",{value:!0})});
